# consul-cfg
`consul-cfg` is a set of utilities for managing app configurations with [Consul](https://github.com/hashicorp/consul) and [Consul template](https://github.com/hashicorp/consul-template).

## Commands
`consul-cfg kv` - Convert config formats like TOML, JSON, YAML etc to KV Pairs which can be bulk imported via consul cli. Output is same as JSON representation generated by the kv export command.

## Get started

```bash
# Read config from multiple files
consul-cfg kv --type toml config1.toml config2.toml

# Pipe stdin from other commands
cat config.toml | consul-cfg kv --type toml

# Specify prefix for all keys
cat config.toml | consul-cfg kv --type toml --prefix myconfig/app
```

## Supported formats
Currently following config formats are supported - `toml`, `yaml`, `hcl`, `json` and `props` (JAVA properties).

## Install

### Install using `go install`
```bash
go install github.com/vividvilla/consul-cfg
```

### Install binary
You can download latest binary from [release page](/releases) based on your OS.

## Caveat
Array of maps are not supported by consul KV so it will be encoded as JSON string.
